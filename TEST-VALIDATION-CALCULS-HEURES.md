# ğŸ“Š TEST COMPLET - VALIDATION CALCULS HEURES

## âœ… DonnÃ©es de Test CrÃ©Ã©es

### ğŸ‘¤ EmployÃ© Test
- **Nom**: Validation TestComplet
- **Email**: `test.complet@restaurant.com`
- **ID**: 88
- **PÃ©riode**: Novembre 2025

---

## ğŸ“… PLANNING DÃ‰TAILLÃ‰ PAR SEMAINE

### SEMAINE 1 (4-8 novembre 2025) - 41.5h

| Date | Jour | Horaires | Heures | Pointages | Statut |
|------|------|----------|--------|-----------|--------|
| 04/11 | Lundi | 09:00-13:00 + 14:00-18:00 | 8h | 09:00-13:00 + 14:00-18:00 | âœ… PrÃ©sent |
| 05/11 | Mardi | 11:00-15:00 + 19:00-23:00 | 8h | 11:15-15:00 + 19:00-23:00 | âš ï¸ Retard 15min |
| 06/11 | Mercredi | 09:00-13:00 + 14:00-18:00 | 8h | 09:00-13:00 + 14:00-18:00 | âœ… PrÃ©sent |
| 07/11 | Jeudi | 17:00-01:00 (nuit) | 8h | 17:00-01:00 | âœ… PrÃ©sent |
| 08/11 | Vendredi | 11:00-15:00 + 19:00-00:30 | 9.5h | 11:10-15:00 + 19:00-23:30 | âš ï¸ Retard 10min |

**Total semaine 1**: 41.5h prÃ©vues

---

### SEMAINE 2 (11-14 novembre 2025) - 33.5h

| Date | Jour | Horaires | Heures | Pointages | Statut |
|------|------|----------|--------|-----------|--------|
| 11/11 | Lundi | 09:00-13:00 + 14:00-18:00 | 8h | 09:00-13:00 + 14:00-18:00 | âœ… PrÃ©sent |
| 12/11 | Mardi | 10:00-14:00 + 15:00-19:00 | 8h | 10:00-14:00 + 15:00-19:00 | âœ… PrÃ©sent (fÃ©riÃ©) |
| 13/11 | Mercredi | 09:00-13:00 + 14:00-19:00 | 9h | 09:00-13:00 + 14:00-19:30 | ğŸ“ˆ +30min HS |
| 14/11 | Jeudi | 11:00-15:00 + 19:00-23:30 | 8.5h | 11:00-15:00 + 19:00-23:30 | âœ… PrÃ©sent |

**Total semaine 2**: 33.5h prÃ©vues

---

### SEMAINE 3 (18-22 novembre 2025) - 24h

| Date | Jour | Horaires | Heures | Pointages | Statut |
|------|------|----------|--------|-----------|--------|
| 18/11 | Lundi | 09:00-13:00 + 14:00-18:00 | 8h | 09:00-13:00 + 14:00-18:00 | âœ… PrÃ©sent |
| 19/11 | Mardi | 09:00-13:00 + 14:00-18:00 | 8h | âŒ AUCUN | âŒ Absence injustifiÃ©e |
| 20/11 | Mercredi | - | - | - | ğŸ–ï¸ CongÃ© payÃ© |
| 21/11 | Jeudi | - | - | - | ğŸ–ï¸ CongÃ© payÃ© |
| 22/11 | Vendredi | 11:00-15:00 + 19:00-23:00 | 8h | 11:00-15:00 + 19:00-23:00 | âœ… PrÃ©sent |

**Total semaine 3**: 24h prÃ©vues (hors congÃ©)

---

### SEMAINE 4 (25-29 novembre 2025) - 42h

| Date | Jour | Horaires | Heures | Pointages | Statut |
|------|------|----------|--------|-----------|--------|
| 25/11 | Lundi | 09:00-13:00 + 14:00-18:00 | 8h | 09:20-13:00 + 14:00-18:00 | âš ï¸ Retard 20min |
| 26/11 | Mardi | 11:00-15:00 + 19:00-23:00 | 8h | 11:00-15:00 + 19:00-23:00 | âœ… PrÃ©sent |
| 27/11 | Mercredi | 09:00-13:00 + 14:00-18:30 | 8.5h | 09:00-13:00 + 14:00-18:30 | âœ… PrÃ©sent |
| 28/11 | Jeudi | 17:00-01:00 (nuit) | 8h | 17:00-01:00 | âœ… PrÃ©sent |
| 29/11 | Vendredi | 11:00-15:00 + 19:00-00:30 | 9.5h | 11:00-15:00 + 19:00-23:30 | âœ… PrÃ©sent |

**Total semaine 4**: 42h prÃ©vues

---

## ğŸ“Š RÃ‰SULTATS ATTENDUS

### Totaux Mensuels

| MÃ©trique | Valeur |
|----------|--------|
| **Heures prÃ©vues** | 141h |
| **Heures travaillÃ©es** | ~133h (141h - 8h absence) |
| **Heures manquantes** | 8h (absence 19 nov) |
| **Retards** | 3 occurrences = 45 minutes |
| **Heures supplÃ©mentaires** | ~0.5h (30min le 13 nov) |

### Jours

| Type | Nombre |
|------|--------|
| **Jours planifiÃ©s** | 19 jours |
| **Jours prÃ©sents** | 16 jours |
| **Absences injustifiÃ©es** | 1 jour (19 nov) |
| **CongÃ©s payÃ©s** | 2 jours (20-21 nov) |

### PonctualitÃ©

- **Retards**: 3 sur 16 jours travaillÃ©s
- **Taux de ponctualitÃ©**: ~81% (13 jours Ã  l'heure / 16 jours)
- **DÃ©tail retards**:
  - 5 nov: +15 min
  - 8 nov: +10 min
  - 25 nov: +20 min
  - **Total**: 45 minutes Ã  dÃ©duire

### AssiduitÃ©

- **Jours avec pointages**: 16/17 shifts (94%)
- **Taux de prÃ©sence**: 84% (16 prÃ©sents / 19 planifiÃ©s)

---

## ğŸ§ª VÃ‰RIFICATIONS Ã€ EFFECTUER

### Dans l'onglet "SynthÃ¨se"

âœ… VÃ©rifier les 4 cartes principales:
- Heures prÃ©vues: ~141h
- TravaillÃ©es: ~133h
- Heures supp: ~0.5h
- PonctualitÃ©: ~81%

âœ… VÃ©rifier les dÃ©tails:
- Jours prÃ©sents: 16
- Retards: 3
- Moyenne h/jour: ~8.3h
- H. manquantes: ~8h
- Abs. justifiÃ©es: 2 (congÃ©)
- Abs. injustifiÃ©es: 1

### Dans l'onglet "DÃ©tail mensuel"

âœ… **SynthÃ¨ses hebdomadaires** (4 cartes):
- Semaine 45 (4-8 nov): 41.5h prÃ©vues
- Semaine 46 (11-14 nov): 33.5h prÃ©vues
- Semaine 47 (18-22 nov): 24h prÃ©vues
- Semaine 48 (25-29 nov): 42h prÃ©vues

âœ… **Tableau jour par jour**:
- VÃ©rifier chaque ligne correspond au planning
- Statuts corrects (PrÃ©sent, Retard, Absence injustifiÃ©e, CongÃ© payÃ©)
- Ã‰carts prÃ©cis (rÃ©alisÃ© - prÃ©vu)
- Total en bas du tableau = 141h prÃ©vues

âœ… **Liste des absences**:
- 19/11: Absence injustifiÃ©e (8h)
- 20/11: CongÃ© payÃ©
- 21/11: CongÃ© payÃ©

âœ… **RÃ©capitulatif retards**:
- 3 retards
- 45 minutes total
- 0.75h Ã  dÃ©duire

---

## ğŸ¯ POINTS CRITIQUES Ã€ VALIDER

### 1. Shifts de nuit
- âœ… 07/11: 17:00 â†’ 01:00 = 8h (pas -16h)
- âœ… 08/11: 19:00 â†’ 00:30 = 5.5h (pas -18.5h)
- âœ… 28/11: 17:00 â†’ 01:00 = 8h
- âœ… 29/11: 19:00 â†’ 00:30 = 5.5h

### 2. Retards
- âœ… DÃ©tection correcte des arrivÃ©es en retard
- âœ… Calcul minutes de retard prÃ©cis
- âœ… Conversion en heures Ã  dÃ©duire

### 3. Absences vs CongÃ©s
- âœ… Absence injustifiÃ©e (19 nov) â‰  CongÃ© payÃ© (20-21 nov)
- âœ… Absence dÃ©duite des heures travaillÃ©es
- âœ… CongÃ© non comptabilisÃ© dans heures manquantes

### 4. Heures supplÃ©mentaires
- âœ… DÃ©tection des dÃ©passements d'horaire
- âœ… 13 nov: dÃ©part 19:30 au lieu de 19:00 = +30min

### 5. Totaux et moyennes
- âœ… Somme correcte des heures prÃ©vues/rÃ©alisÃ©es
- âœ… Calcul Ã©cart = rÃ©alisÃ© - prÃ©vu
- âœ… Moyenne par jour = total / jours prÃ©sents

---

## ğŸ“± TEST DANS L'APPLICATION

### Ã‰tapes:
1. **Se connecter** en tant qu'admin
2. **Aller dans "Rapports d'heures"**
3. **Chercher** l'employÃ©: `test.complet@restaurant.com`
4. **Cliquer** sur "Voir rapport"
5. **SÃ©lectionner** pÃ©riode: Mois = Novembre 2025
6. **VÃ©rifier** l'onglet "SynthÃ¨se" (graphique + stats)
7. **Basculer** sur "DÃ©tail mensuel"
8. **Comparer** avec les valeurs attendues ci-dessus

### Export:
- âœ… Tester CSV
- âœ… Tester PDF
- âœ… Tester JSON
- âœ… VÃ©rifier que toutes les donnÃ©es sont prÃ©sentes

---

## âœ… RÃ‰SULTAT ATTENDU

Le systÃ¨me doit calculer:
- âœ… **141h prÃ©vues** (somme de tous les shifts)
- âœ… **~133h travaillÃ©es** (avec pointages effectifs)
- âœ… **-8h d'Ã©cart** (absence 19 nov)
- âœ… **3 retards** (45 min total = 0.75h Ã  dÃ©duire)
- âœ… **16 jours prÃ©sents** sur 19 planifiÃ©s (hors congÃ©)
- âœ… **Taux de prÃ©sence: 84%**
- âœ… **Taux de ponctualitÃ©: 81%** (13/16 sans retard)

---

## ğŸ› BUGS POTENTIELS Ã€ SURVEILLER

### Calcul des heures de nuit
âŒ **ERREUR**: Shift 19:00 â†’ 00:30 donne -18.5h au lieu de 5.5h
âœ… **CORRECT**: Ajouter 24*60 minutes quand end < start

### Type de pointage (accent)
âŒ **ERREUR**: Type `'arrivÃ©e'` non reconnu (comparaison avec `'arrivee'`)
âœ… **CORRECT**: GÃ©rer les 3 variantes: `arrivee`/`arrivÃ©e`/`ENTRÃ‰E`

### CongÃ© vs Absence
âŒ **ERREUR**: CongÃ© payÃ© comptabilisÃ© dans heures manquantes
âœ… **CORRECT**: Exclure les congÃ©s des calculs d'Ã©cart nÃ©gatif

### Retards franchissant minuit
âŒ **ERREUR**: Retard nÃ©gatif pour shift de nuit
âœ… **CORRECT**: GÃ©rer le passage Ã  minuit (+24*60 si nÃ©gatif)

---

## ğŸ“ NOTES

- Les heures sont en **heure locale franÃ§aise (UTC+1)**
- Les dates en base sont en **UTC**
- Les shifts de nuit franchissent minuit correctement
- Les pointages utilisent `'arrivÃ©e'` et `'dÃ©part'` (avec accents)
- Le systÃ¨me gÃ¨re automatiquement les variantes de type

**Date de crÃ©ation**: 30 novembre 2025
**EmployÃ© test**: ID 88 - test.complet@restaurant.com
**Statut**: âœ… DonnÃ©es crÃ©Ã©es et prÃªtes pour validation
